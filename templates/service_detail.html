{% extends "jde_base.html" %}

{% load static %}

{% block title %}{{service.title}} {% endblock %}



{% block content %}


<div class="max-w-3xl mx-auto mt-10 bg-white shadow-md rounded-lg p-6">
    <p class="text-center text-4xl md:text-5xl font-extrabold pb-14">{{service.title}} </p>
    
    {% if not service.septemp %}
    <div class="rounded-xl bg-gradient-to-br from-green-950 via-green-900 to-green-950 p-4">
		<div class="text-white font-semibold text-lg md:text-xl">
			{{service.desc}}
		</div>
        
        {% if 'translation' in service.service_cat  %}
        <p class="pt-2 text-white font-medium text-lg md:text-xl">The various types of documents we translate include the following :</p>
            <ul class="service-items-list ">
                {% for item in service.items %}
                    <li class="my-3 text-lime-100 font-medium md:text-lg">{{item.text}}</li>
                {% endfor %}
            </ul>
        {% endif %}
        {% if 'interpretation' in service.service_cat  %}
        <p class="pt-2 text-white font-medium text-lg md:text-xl">Our interpretation services cover the following categories :</p>
            <ul class="service-items-list ">
                {% for item in service.items %}
                    <li class="my-3 text-lime-100 font-medium md:text-lg">{{item.text}}</li>
                {% endfor %}
            </ul>
        {% endif %}
        {% if 'administrative' in service.service_cat  %}
        <p class="pt-2 text-white font-medium text-lg md:text-xl">Our administrative services cover the following categories :</p>
            <ul class="service-items-list ">
                {% for item in service.items %}
                    <li class="my-3 text-lime-100 font-medium md:text-lg">{{item.text}}</li>
                {% endfor %}
            </ul>
        {% endif %}
				<p class="inline-block p-3 mt-3 text-base md:text-lg font-bold bg-black text-white rounded-sm">Service Fee : <span class="inline-block pl-3 text-green-500">{{service.fee}}</span></p>
         
	</div>
    {% else %}
        {% include service.temp %}
    {% endif %}
        
	
</div>


<div class="max-w-3xl mx-auto mt-10 bg-white shadow-md rounded-lg p-6 {% if  'passport' not in service.service_cat %}mb-40{% endif %}">
    
    {% if  'consultancy' in service.service_cat %}
    
    <div class="bg-green-500 border border-lime-200 p-4 rounded-lg w-full">
                
        <div class="my-3">
            <p class="font-bold text-lg lg:text-xl pb-1 md:text-lg">Please choose a consultation duration option</p>
            <select name="document_type" class="w-full border rounded p-2 bg-white font-medium text-base lg:text-lg" id="procure-doc-type">
                <option value="">--NO DURATION OPTION CHOSEN-- </option>
                
                {% for option in service.items %}
                    <option value="{{option.text|slugify}}">{{ option.text}}</option>
                {% endfor %}
                    
            </select>
        </div>
    </div>
    {% endif %}

    {% if  'interpretation' in service.service_cat %}
    
    <div class="bg-green-500 border border-lime-200 p-4 rounded-lg w-full">
                
        <div class="my-3">
            <p class="font-bold text-lg lg:text-xl pb-1 md:text-lg">Please choose a service category</p>
            <select name="document_type" class="w-full border rounded p-2 bg-white font-medium text-base lg:text-lg" id="procure-doc-type">
                <option value="">--NO SERVICE CATEGORY CHOSEN-- </option>
                
                {% for option in service.items %}
                    <option value="{{option.text|slugify}}">{{ option.text}}</option>
                {% endfor %}
                    
            </select>
        </div>
    </div>
    {% endif %}

    {% if  'administrative' in service.service_cat %}
    
    <div class="bg-green-500 border border-lime-200 p-4 rounded-lg w-full">
                
        <div class="my-3">
            <p class="font-bold text-lg lg:text-xl pb-1 md:text-lg">Please choose a service category</p>
            <select name="document_type" class="w-full border rounded p-2 bg-white font-medium text-base lg:text-lg" id="procure-doc-type">
                <option value="">--NO SERVICE CATEGORY CHOSEN-- </option>
                
                {% for option in service.items %}
                    <option value="{{option.text|slugify}}">{{ option.text}}</option>
                {% endfor %}
                    
            </select>
        </div>
    </div>
    {% endif %}

    {% if  'double' in service.service_cat %}
    
    <div class="bg-green-500 border border-lime-200 p-4 rounded-lg w-full">
                
        <div class="my-3">
            <p class="font-bold text-lg lg:text-xl pb-1 md:text-lg">Please choose a document type</p>
            <select name="document_type" class="w-full border rounded p-2 bg-white font-medium text-base lg:text-lg" id="procure-doc-type">
                <option value="">--NO DOCUMENT TYPE CHOSEN-- </option>
                
                {% for option in service.items %}
                    <option value="{{option.text|slugify}}">{{ option.text}}</option>
                {% endfor %}
                    
            </select>
        </div>
    </div>
    {% endif %}
    
		{% if  'translation' in service.service_cat %}
    
    <div class="bg-green-500 border border-lime-200 p-4 rounded-lg w-full">
                
        <div class="my-3">
            <p class="font-bold text-lg lg:text-xl pb-1 md:text-lg">Please choose a document type</p>
            <select name="document_type" class="w-full border rounded p-2 bg-white font-medium text-base lg:text-lg" id="procure-doc-type">
                <option value="">--NO DOCUMENT TYPE CHOSEN-- </option>
                
                {% for option in service.items %}
                    <option value="{{option.text|slugify}}">{{ option.text}}</option>
                {% endfor %}
                    
            </select>
        </div>
    </div>
    {% endif %}
    
    <div class="mt-4 {% if 'passport' not in service.service_cat %}hidden{% endif %}" id="fee-info-cont">
    {% if service.payment_required %}
        {% if 'translation' not in service.service_cat %}
        <p class="text-base md:text-lg font-semibold text-amber-500 inline-block p-3 bg-black rounded">
            <span class="text-white">Total Fee to pay :</span>
                <span id="totalFee" class="text-green-500 inline-block">
                    €<span id="total-fee-amount"></span>
        </p>
        {% else %}
        <p class="text-base md:text-lg font-semibold text-amber-500 inline-block p-3 bg-black rounded">
					<input type="hidden" name="" id="translation-service" value="">
            <span class="text-white">Fee Calculation :</span>
                <span id="totalFeeT" class="text-green-500 inline-block">
                    €<span id="total-fee-amount">40</span>
                    <span class="inline-block px-3 text-white font-semibold">x</span> 
                    <span class="">total pages of documents uploaded</span>
                </span>
        </p>
        {% endif %}
    {% else %}
        {% if "investment" not in service.service_cat %}
        <div class="mt-4 bg-black rounded-lg text-red-500 font-medium text-lg p-4">
            <p>Please note that after submitting your service request, we will calculate the total fee to be paid for the service and communicate with you on how to make the payment. We will begin the processing of the service requested after receiving your payment. </p>
        </div>    
        {% endif %}
    {% endif %}
    </div>
    
    

    <form action="" id="info-form" method="post" enctype="multipart/form-data" 
        class="space-y-6 pt-4 {% if  service.hidden_first %}hidden{% endif %}">
        {% csrf_token %}


				<input type="hidden" name="selected-service-index" id="selected-service-index" value="">
				<input type="hidden" name="total-payment" id="total-payment-input" value="">
        <input type="hidden" name="" id="fee-required" value="{% if service.payment_required %}true{% endif %}">
        <input type="hidden" name="payment-required" value="{% if service.payment_required %}True{% endif %}">
        <h1 class="text-lg md:text-xl font-bold mb-4 text-green-950">
            
            {% if service.payment_required %}
            Kindly provide all the required information in the Service Request Form below and submit your request.
            If your form submission is valid, you will be redirected to a page to make the appropriate payment.
            <p>Note that we will begin processing your service request only after confirming your payment.</p>
            {% else %}
            Kindly provide all the required information in the Service Request Form below and submit your service request.
            {% endif %}
                
             
        </h1>

        {% if service.files_upload %}
        <div class="bg-lime-50 border border-lime-200 p-4 rounded-lg w-full">
                        <h2 class="text-lg font-bold mb-3 text-gray-800">Upload Relevant Files/Documents</h2>

                        <div id="file-inputs" class="space-y-4 mb-4">
                                <!-- Initial file input from Django form -->
                                <div class="file-wrapper relative">
                                        {{ file_form.file }}
                                        <button type="button"
                                                        class="remove-btn hidden absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm"
                                                        onclick="removeFileInput(this)">
                                                ✖
                                        </button>
                                </div>
                        </div>

                        <!-- Add button -->
                        <button type="button" id="add-file-btn"
                                        class="px-4 py-2 bg-green-600 text-white rounded-md shadow hover:bg-green-700 transition">
                                + Add another file
                        </button>
        </div>
        {% endif %}
       
        {% if 'passport' not in service.service_cat %}
        <div class="bg-lime-50 border border-lime-200 p-4 rounded-lg w-full">
            {% for field in basic_info_form %}
                <div class="my-3">
                    <p class="font-semibold pb-1 md:text-lg field-label">{{field.label}}
                        {% if field.field.required %}
                        <span class="required-indicator">*</span>
                        {% endif %}
                    </p>
										
                    <div>{{field}} </div>
                </div>
            {% endfor %}
        </div>
        {% else %}
            <div class="bg-lime-50 border border-lime-200 p-4 rounded-lg w-full">
                {% for field in long_info_form %}
                    <div class="my-3">
                        <p class="font-semibold pb-1 md:text-lg field-label">{{field.label}}
                            {% if field.field.required %}
                            <span class="required-indicator">*</span>
                            {% endif %}
                        </p>
                                            
                        <div>{{field}} </div>
                    </div>
                {% endfor %}
            </div>

            <div class="bg-lime-50 border border-lime-200 p-4 rounded-lg w-full">
                {% for field in passport_doc_form %}
                    <div class="my-3">
                        <p class="font-semibold pb-1 md:text-lg field-label">{{field.label}}
					{% if field.field.required %}
            <span class="required-indicator">*</span>
        	{% endif %}</p>
												</p>
                        <div>{{field}} </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}

        <div class="bg-lime-50 border border-lime-200 p-4 rounded-lg w-full">
            {% for field in extra_info_form %}
                <div class="my-3">
                    <p class="font-semibold pb-1 md:text-lg field-label">{{field.label}}
					{% if field.field.required %}
            <span class="required-indicator">*</span>
        	{% endif %}</p>
										</p>
                    <div>{{field}} </div>
                </div>
            {% endfor %}
        </div>

            
            
        

        <!-- Display total fee -->
        <!-- <div class="mt-4">
            <p class="text-lg md:text-xl font-semibold text-amber-500">Service Fee Calculation:
						<span id="" class="text-green-600">{{service.fee_text}}</span>
            </p>
        </div> -->

				{% if service.payment_required %}
        <!--<div class="mt-4">
            <p class="text-base md:text-lg font-semibold text-amber-500 inline-block p-3 bg-black">
                <span class="text-white">Total Fee to pay :</span>
					<span id="totalFee" class="text-green-500 inline-block">
                        €<span id="total-fee-amount">40</span>
                        {% if 'procurement' in service.service_cat %}
                        <span class="inline-block pl-1 text-red-500">Service fee</span>
                        <span class="inline-block px-2 font-bold text-xl text-white">+</span>
                        €<span>120</span> <span class="inline-block pl-1 text-red-600">DHL fee</span>
                        <span class="inline-block px-2 font-bold text-xl text-white">=</span>
                        €<span id="procure-total-fee">120</span>
                        {% endif %}
                            
                    </span>
            </p>
				</div>-->
				<input type="hidden" name="" id="fee-amount" value="40">
                

        <!-- Payment section -->
        <div class="mt-6 p-4 border rounded-lg bg-gray-50">
            <!--<p class="font-medium md:text-lg flex items-center"><input type="checkbox" name="" id="privacy-agree-check" class="inline-block w-5 h-5  accent-green-500 "> <span class="inline-block pl-4">I agree to the <button class="font-bold text-blue-600"><a href="{% url 'base:terms' %}">Privacy Policy</a></button></span></p>
						<p class="font-medium md:text-lg flex items-center pb-2"><input type="checkbox" name="" id="terms-agree-check" class="inline-block w-5 h-5  accent-green-500 "> <span class="inline-block pl-4">I have read, understood and accepted the <button class="font-bold text-blue-600"><a href="{% url 'base:terms' %}">Terms & Conditions</a></button> of service.</span></p>-->
            <p class="font-medium md:text-lg flex items-start">
						<span class="inline-block text-nowrap">
						<input type="checkbox" name="" id="privacy-agree-check" class="inline-block w-5 h-5 accent-green-500 "> <span class="required-indicator relative -top-2">*</span> 
						</span>
						<span class="inline-block pl-4">I agree to the <button class="font-bold text-blue-600"><a href="{% url 'base:terms' %}" class="underline underline-offset-2">Privacy Policy</a>.</button>
						</span>
						</p>
            <p class="font-medium md:text-lg flex items-start pb-2">
						<span class="inline-block text-nowrap">
						<input type="checkbox" name="" id="terms-agree-check" class="inline-block w-5 h-5  accent-green-500 "> <span class="required-indicator relative -top-2">*</span>
						</span>
						<span class="inline-block pl-4">I have read, understood and accepted the <button class="font-bold text-blue-600"><a href="{% url 'base:terms' %}" class="underline underline-offset-2">Terms & Conditions</a></button> of service.</span></p>
            
            <!-- <p class="mb-2 font-medium">Make Payment:</p>
            <button type="button" id="payBtn" disabled
                class="cursor-not-allowed bg-gray-400 text-white px-4 py-2 rounded">
                Pay Now
            </button>
						<p id="paymentStatus" class="text-sm text-red-600 mt-2">Payment not yet made.</p>-->
        </div>
				{% else %}

				{% if "investment" not in service.service_cat %}
				<div class="mt-4 bg-gray-800 rounded-lg text-white font-semibold p-4">
					<p>Please note that after submitting your service request, we will calculate the total fee to be paid for the service and communicate with you on how to make the payment. We will begin the processing of the service requested after receiving your payment. </p>
				</div>
				{% endif %}
                <div>
                    <!--<p class="font-medium md:text-lg flex items-center"><input type="checkbox" name="" id="privacy-agree-check" class="inline-block w-5 h-5  accent-green-500 "> <span class="inline-block pl-4">I agree to the <button class="font-bold text-blue-600"><a href="{% url 'base:terms' %}">Privacy Policy</a></button></span></p>
										<p class="font-medium md:text-lg flex items-center"><input type="checkbox" name="" id="terms-agree-check" class="inline-block w-5 h-5  accent-green-500 "> <span class="inline-block pl-4">I have read, understood and accepted the <button class="font-bold text-blue-600"><a href="{% url 'base:terms' %}">Terms & Conditions</a></button> of service.</span></p>-->
            <p class="font-medium md:text-lg flex items-start">
						<span class="inline-block text-nowrap">
						<input type="checkbox" name="" id="privacy-agree-check" class="inline-block w-5 h-5 accent-green-500 "> <span class="required-indicator relative -top-2">*</span>
						</span>
						<span class="inline-block pl-4">I agree to the <button class="font-bold text-blue-600"><a href="{% url 'base:terms' %}">Privacy Policy</a></button>
						</span>
						</p>
            <p class="font-medium md:text-lg flex items-start pb-2">
						<span class="inline-block text-nowrap">
						<input type="checkbox" name="" id="terms-agree-check" class="inline-block w-5 h-5  accent-green-500 "> <span class="required-indicator relative -top-2">*</span>
						</span>
						<span class="inline-block pl-4">I have read, understood and accepted the <button class="font-bold text-blue-600"><a href="{% url 'base:terms' %}">Terms & Conditions</a></button> of service.</span></p>
                
                </div>
                
				{% endif %}

				<div class="mx-auto text-center py-4">
        <!-- Submit button (disabled until payment) -->
        <button type="submit" id="submitBtn"
            class="text-white px-6 py-2 rounded cursor-not-allowed bg-gray-400"
            {% if service.payment_required %}disabled{% endif %}>
            Submit Service Request
        </button>
					
				</div>
    </form>


<!-- Prompt to Login or Continue as Guest -->
<div id="login-prompt" class="hidden fixed inset-0 bg-black bg-opacity-75 items-center justify-center z-50">
  <div class="bg-white rounded-2xl w-4/5 md:w-3/5 lg:w-1/2 shadow-lg text-left">
    <div class="p-4 lg:p-6 font-semibold md:text-lg">
        You are currently accessing this website as a Guest. Would you like to login/register, or you prefer to continue as a guest ?
        <p class="pt-3 flex justify-center gap-3 md:gap-5">
            <button class="inline-block px-3 py-1 rounded-[4px] bg-green-600 text-white"><a href="{% url 'base:auth' %}?next={% url 'base:service-page' service.title|slugify %}">Login / Register</a></button>
            <button class="inline-block px-3 py-1 rounded-[4px] bg-green-600 text-white" id="cancel-prompt">Continue as Guest</button>
        </p>
    </div>
  </div>
</div>
<input type="hidden" name="" id="user-authenticated" value="{% if user.is_authenticated %}true{% endif %}">
</div>
{% endblock %}

{% block scripts %}
{{ block.super }}

<script>
document.addEventListener("DOMContentLoaded", function () {
    const selectElement2 = document.getElementById("procure-doc-type");
    const selectedIndexInput = document.getElementById("selected-service-index");
    const infoForm = document.getElementById("info-form");
    const feeInfoCont = document.getElementById("fee-info-cont");
    //const totalFeeValue = document.getElementById("totalFee");
    const totalFeeSpan = document.getElementById("total-fee-amount");
    const translationService = document.getElementById("translation-service");
    const totalPayment = document.getElementById("total-payment-input");
    selectElement2.addEventListener("change", function(event) {
        //alert(`New option selected:, ${event.target.value}`);
        if (selectElement2.value) {
            infoForm.classList.remove('hidden')
            feeInfoCont.classList.remove('hidden')
						selectedIndexInput.value = selectElement2.selectedIndex -1 ;
            
            let costElem = document.querySelector(`#cost-${selectElement2.value}`)
					if (costElem && !translationService) {
						totalFeeSpan.textContent = costElem.textContent;
						totalPayment.value = totalFeeSpan.textContent;
					}
            let procureTotalFeeSpan = document.getElementById("procure-total-fee");
            if (procureTotalFeeSpan) {
                procureTotalFeeSpan.textContent = parseInt(costElem.textContent) + 120
                const attestExtraFormCont = document.getElementById("attest-extra-form");
                const attestExtraFormCopy = document.getElementById("attest-extra-form-copy");
                if (selectElement2.value.includes('attestation') && selectElement2.value.includes('birth')) {
                    attestExtraFormCont.innerHTML = attestExtraFormCopy.innerHTML;
                } else {
                    attestExtraFormCont.innerHTML = '';
                }
            }
            
            
            
            //alert(totalFeeSpan.textContent)
        }
			else {
				infoForm.classList.add('hidden')
				feeInfoCont.classList.add('hidden')

			}
    });
});
</script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const promptDiv = document.getElementById("login-prompt");
        const userAuth = document.getElementById("user-authenticated").value;
        const cancelButton = document.getElementById("cancel-prompt");
        setTimeout(() => {
            if (userAuth == "true") {
                promptDiv.classList.remove("flex")
                promptDiv.classList.add("hidden")
            } else {
                promptDiv.classList.add("flex")
                promptDiv.classList.remove("hidden")
            }
        }, 3000)

        cancelButton.addEventListener("click", () => {
            promptDiv.classList.add("hidden");
        });
    })
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    
    const documentsContainer = document.getElementById("documents-container");
    const addDocumentBtn = document.getElementById("addDocumentBtn");
    const totalFeeEl = document.getElementById("total-fee-amount");
    //const payBtn = document.getElementById("payBtn");
    const paymentStatus = document.getElementById("paymentStatus");
    const submitBtn = document.getElementById("submitBtn");
    const feeRequired = document.getElementById("fee-required").value;
    const termsCheck = document.getElementById("terms-agree-check");
    const privacyCheck = document.getElementById("privacy-agree-check");
    const checks = [termsCheck, privacyCheck]
    let docCount;

    checks.forEach(check => {
        check.addEventListener('input', () => {
        
            if ("abc" == "true") {
                if (termsCheck.checked && privacyCheck.checked) {
                    payBtn.disabled = false;
                    payBtn.classList.remove("bg-gray-400", "cursor-not-allowed");
                    payBtn.classList.add("bg-green-500", "hover:bg-green-700");
                } else {
                    payBtn.disabled = true;
                    payBtn.classList.add("bg-gray-400", "cursor-not-allowed");
                    payBtn.classList.remove("bg-green-500", "hover:bg-green-700");
                }
            } else {
                if (termsCheck.checked && privacyCheck.checked) {
                    submitBtn.disabled = false;
                    submitBtn.classList.remove("bg-gray-400", "cursor-not-allowed");
                    submitBtn.classList.add("bg-green-500", "hover:bg-green-700");
                } else {
                    submitBtn.disabled = true;
                    submitBtn.classList.add("bg-gray-400", "cursor-not-allowed");
                    submitBtn.classList.remove("bg-green-500", "hover:bg-green-700");
                }
            }
        })
        
        
    })

    function updateTotalFee() {
        const feePerDoc = 40 //parseInt(document.getElementById("total-fee-amount").textContent);
        const translationDocs = document.querySelectorAll(".document-item");
        if (translationDocs) docCount = translationDocs.length;
        totalFeeEl.textContent = `${docCount * feePerDoc}`;
    }


		function addRemoveButton(docBlock) {
        // Create remove button
        const removeBtn = document.createElement("button");
        removeBtn.type = "button";
        removeBtn.textContent = "×";
        removeBtn.className = "absolute top-0 right-4 text-red-500 hover:text-red-700 font-bold text-2xl";

        // Add click event to remove document block
        removeBtn.addEventListener("click", function () {
            docBlock.remove();
            updateTotalFee();
        });

        // Position the button inside the document block
        docBlock.classList.add("relative");
        docBlock.appendChild(removeBtn);
    }

    if (addDocumentBtn) addDocumentBtn.addEventListener("click", function () {
        const newDoc = documentsContainer.querySelector(".document-item").cloneNode(true);
        newDoc.querySelectorAll("input, select").forEach(input => {
            input.value = "";
        });
				addRemoveButton(newDoc);
        documentsContainer.appendChild(newDoc);
        updateTotalFee();
    });

    /*payBtn.addEventListener("click", function () {
        // Simulate successful payment
        
        paymentStatus.textContent = "Payment successful ✔";
        paymentStatus.classList.remove("text-red-600");
        paymentStatus.classList.add("text-green-600");

        submitBtn.disabled = false;
        submitBtn.classList.remove("bg-gray-400", "cursor-not-allowed");
        submitBtn.classList.add("bg-green-500", "hover:bg-green-700");
        alert("Your payment for the service was successful. Thank you.")
    });*/

    //updateTotalFee();
});
</script>

<script>
    const translationService2 = document.getElementById("translation-service");
		const addFileBtn = document.getElementById("add-file-btn")
			addFileBtn.addEventListener("click", function () {
        const fileInputsDiv = document.getElementById("file-inputs");

        // Wrapper div
        const wrapper = document.createElement("div");
        wrapper.classList.add("file-wrapper", "relative", "fade-slide-enter");

        // File input
        const input = document.createElement("input");
        input.type = "file";
        input.name = "file"; // Same name so Django groups them
        input.classList.add("block", "w-full", "text-base", "text-gray-700",
            "border", "border-gray-300", "rounded-md", "cursor-pointer", "file-upload-input",
            "bg-gray-50", "focus:outline-none", "focus:ring-2", "focus:ring-blue-400");

        // Remove button
        const removeBtn = document.createElement("button");
        removeBtn.type = "button";
        removeBtn.innerHTML = "✖";
        removeBtn.classList.add("remove-btn", "absolute", "-top-2", "-right-2",
            "bg-red-500", "text-white", "rounded-full", "w-6", "h-6",
            "flex", "items-center", "justify-center", "text-sm", "shadow");
        removeBtn.onclick = function () {
            removeFileInput(removeBtn);
        };

        // Append
        wrapper.appendChild(input);
        wrapper.appendChild(removeBtn);
        fileInputsDiv.appendChild(wrapper);

        // Trigger animation
        requestAnimationFrame(() => {
            wrapper.classList.add("fade-slide-enter-active");
        });
				let allFiles = document.querySelectorAll(".file-upload-input").length;
				if (translationService2) {
    			let totPayment = document.getElementById("total-payment-input");
					totPayment.value = (allFiles + 1) * 40;

				}
			if (allFiles == 5) {
				addFileBtn.disabled = true;
				addFileBtn.classList.remove("bg-green-600", "hover:bg-green-700");
				addFileBtn.classList.add("bg-gray-400", "cursor-not-allowed");

			} else {
				addFileBtn.disabled = false;
				addFileBtn.classList.add("bg-green-600", "hover:bg-green-700");
				addFileBtn.classList.remove("bg-gray-400", "cursor-not-allowed");

			} 

    });

    function removeFileInput(button) {
        button.parentElement.remove();
				let allFiles2 = document.querySelectorAll(".file-upload-input").length;
			if (allFiles2 < 5) {
				//alert(111)
				addFileBtn.disabled = false;
				addFileBtn.classList.add("bg-green-600", "hover:bg-green-700");
				addFileBtn.classList.remove("bg-gray-400", "cursor-not-allowed");}
    }
</script>


{% endblock %}

